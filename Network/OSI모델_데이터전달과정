# OSI 모델

## OSI 5계층

- 응용 계층
    - 애플리케이션 등에서 사용하는 데이터를 송수신하는 데 필요하다
- 전송 계층
    - 목적지에 데이터를 정확히 전달하는 데 필요하다
- 네트워크 계층
    - 다른 네트워크에 잇는 목적지에 데이터를 전달하는 데 필요하다
- 데이터 링크 계층
    - 랜에서 데이터를 송수신하는 데 필요하다
- 물리 계층
    - 데이터 전기 신호로 변환하는 데 필요하다

## 웹 브라우저에 URL 입력 시 어떤 일이 발생할까?

### 1. 클라이언트에서 캡슐화 (네트워크 계층 → 물리 계층으로 전달)

- url 입력 시 캡슐화가 시작됨 (3-way 핸드셰이크로 연결이 확립되어 있다고 가정)
- 응용 계층에서 HTTP 메시지가(GET요청) 전송 계층에 전달됨
- 전송 계층에서 데이터에 TCP 헤더가 붙은 세그먼트가 되어 네트워크 계층에 전달됨
    
    TCP 헤더에는 출발지 포트 번호와 목적지 포트 번호가 포함되어 있음
    
- 네트워크 계층에서 세그먼트에 IP헤더가 붙어 IP패킷이 되어 데이터 링크 계층에 전달됨
    
    IP헤더에는 출발지 IP주소와 목적지 IP주소가 포함되어 있음
    
- 데이터 링크 계층에서 이더넷 헤더가 추가된 이더넷 프레임이 물리 계층에 전달됨
    
    이더넷 헤더에는 출발지 MAC주소와 목적지 MAC 주소가 포함되어 있음
    
- 물리 계층에서 이더넷프레임이 전기 신호로 변환되어 네트워크로 전송됨
- 

### 2. 스위치, 라우터 등을 통해 다른 네트워크에 있는 목적지 웹서버로 전달됨

- 스위치 : 물리 계층 → 데이터 링크 계층 → 물리 계층
- 라우터 : 물리 계층 → 데이터 링크 계층 → 네트워크 계층 → 데이터 링크 계층 → 물리 계층

### 3. 웹서버에서 역캡슐화 (물리 계층 → 네트워크 계층으로 전달)

- 데이터가 전기 신호로 웹 서버에 도착
- 데이터 링크 계층에서 이더넷 프레임의 목적지 MAC주소와 자신의 MAC주소를 비교.
주소가 같으면 이더넷 헤더, 트레일러르 분리하고 네트워크 계층에 전달
- 네트워크 계층에서 IP헤더의 목적지 IP주소와 웹 서버 IP 주소가 같은 지 비교.
주소가 같으면 IP 헤더를 분리하고 전송 계층에 전달
- 전송 계층에서 목적지 포트를 확인하여 어떤 애플리케이션으로 전달해야 하는 지 판단하고,
TCP 헤더를 분리하여 응용 계층에 전달
- 웹 서버의 응용 계층에 도달
