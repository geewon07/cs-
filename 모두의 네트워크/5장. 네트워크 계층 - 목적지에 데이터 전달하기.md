5장. 네트워크 계층 : 목적지에 데이터 전달하기

1) 네트워크 간의 연결 구조

- 네트워크 계층의 역할 / 네트워크 간의 연결
=> 서로 다른 네트워크에 있는 목적지로 데이터를 전송하기 위해 필요함.

라우터 : 네트워크 간 통신을 가능하게 하는 네트워크 장비

IP 주소 : 인터넷 상에 있는 컴퓨터의 고유한 주소
// 랜에서는 MAC 주소만으로 통신할 수 있지만 다른 네트워크에서는 데이터를 보낼 수 없으므로 IP 주소를 사용.

라우팅 : 목적지 IP 주소까지 데이터를 보낼 경로를 결정하는 것.

라우팅 테이블 : 경로 정보를 등록하고 관리한다.


2) IP (Internet Protocol)

* IP 헤더

 |  버전 | 헤더 길이 | 서비스 유형  |      전체 패킷 길이      |
 |           ID (일련번호)          | 조각 상태 | 조각의 위치  |
 |     TTL     |      프로토콜      |       헤더 체크섬        |
 |                     출발지 IP 주소 (32비트)                 |
 |                     목적지 IP 주소 (32비트)                 |

* IP 패킷  = IP 헤더 + 데이터



[18] IP 주소의 구조

1) IP 주소

- IP 버전 - IPv4 (32비트) => 2^32 개
          - IPv6 (128비트) => 2^128 개 (IPv4로 가능한 경우의 수를 보완하기 위함)

공인 IP 주소 -> 인터넷 서비스 제공자 (ISP) 가 제공 / 사설 IP 주소 -> 라우터의 DHCP 기능을 사용하여 주소를 자동으로 할당.

DHCP (Dynamic Host Configuration Protocol) - IP 주소를 자동으로 할당하는 프로토콜

MAC 주소 - 48비트로 구분하기 쉽도록 16진수로 표시
IP 주소 - 32비트로 구분하기 쉽도록 10진수로 표시 (실제 IP 주소는 2진수)

옥텟(octet) - 8비트

IP 주소 = 네트워크 ID + 호스트 ID

네트워크 ID는 '어떤 네트워크'인지를 나타내고, 호스트 ID는 '해당 네트워크의 어느 컴퓨터'인지를 나타낸다.

[19] IP 주소의 클래스 구조

1) IP 주소 클래스

네트워크 크기에 따라 클래스를 구분.

|  클래스 이름  |          내용            | 
    A 클래스        대규모 네트워크 주소        - 8비트 네트워크 ID + 24비트 호스트 ID
    B 클래스        중형 네트워크 주소          - 16비트 네트워크 ID + 16비트 호스트 ID
    C 클래스        소규모 네트워크 주소        - 24비트 네트워크 ID + 8비트 호스트 ID
    D 클래스        멀티캐스트(multicast) 주소
    E 클래스        연구 및 특수용도 주소


// IP 주소 확인 - cmd(명령 프롬프트) -> ipconfig

[20] 네트워크 주소와 브로드캐스트 주소의 구조

1) 네트워크 주소와 브로드캐스트 주소
네트워크 주소와 브로드캐스트 주소는 자신의 IP 주소로 설정하면 안 된다.

네트워크 주소 - 호스트 ID가 10진수로 0 (2진수 00000000)인 주소
              - 전체 네트워크에서 작은 네트워크를 식별하는 데 사용
                (호스트 ID가 10진수로 0이면 그 네트워크 전체를 대표하는 주소)
브로드캐스트 주소 - 호스트 ID가 10진수이고 마지막 숫자가 255인 주소
                  - 네트워크에 있는 컴퓨터나 장비 모두에게 한 번에 데이터를 전송하는 데 사용되는 전용 IP 주소

[21] 서브넷의 구조

1) 서브넷

서브네팅(subnetting) : 네트워크를 분할하는 것
서브넷 (subnet) : 분할된 네트워크

// 서브네팅
IP 주소 -> 네트워크 ID + 서브넷 ID + 호스트 ID (호스트 ID에서 비트를 빌려 서브넷으로 만듬)

2) 서브넷 마스크

서브넷 마스크 : 네트워크 ID와 호스트 ID를 식별하기 위한 값

프리픽스(prefix) 표기법 : 서브넷 마스크를 슬래시(/비트수)로 나타낸 것

ex) 255.255.255.0 => /24 (24비트)

[22] 라우터의 구조

1) 라우터

라우터는 네트워크를 분할(분리) 가능하지만 스위치 (레이어 2)와 허브는 분할할 수 없다.

컴퓨터에서 다른 네트워크로 데이터를 전송하려면 기본 게이트웨이를 설정해야 한다.


2) 라우팅

라우팅 테이블 등록 방법 - 수동 (소규모 네트워크) / 자동 (대규모 네트워크) 

라우팅 프로토콜 : 라우터 간에 라우팅 정보를 교환하기 위한 프로토콜

ex) RIP, OSPF, BGP










